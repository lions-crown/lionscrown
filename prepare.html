<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>åŸ¼ç‰è¥¿æ­¦ãƒ©ã‚¤ã‚ªãƒ³ã‚º é¸æ‰‹åé‘‘ | L-crown</title>
<link rel="icon" type="image/webp" href="https://lions-crown.homep.jp/img/1766145327164.webp">
<link rel="apple-touch-icon" href="https://lions-crown.homep.jp/img/1766145327164.webp">
<meta name="theme-color" content="#0f172a">
<link href="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.8.0/nouislider.min.css" rel="stylesheet">
<style>
/* ====================== L-crown å…¨ä½“ãƒ‡ã‚¶ã‚¤ãƒ³ ====================== */
* { margin:0; padding:0; box-sizing:border-box; }
body {
  font-family: "Segoe UI", "Noto Sans JP", sans-serif;
  background: radial-gradient(circle at top, #163b80 0%, #091b3d 40%, #050c1f 100%);
  color: white;
  min-height: 100vh;
  overflow-x: hidden;
  line-height: 1.75;
}
body::before {
  content: "";
  position: fixed;
  width: 520px; height: 520px;
  background: radial-gradient(circle, rgba(77,163,255,0.28), transparent 70%);
  top: -140px; right: -140px;
  filter: blur(50px);
  z-index: -1;
  pointer-events: none;
}
/* ====================== ãƒ˜ãƒƒãƒ€ãƒ¼ ====================== */
header {
  position: sticky;
  top: 0;
  backdrop-filter: blur(14px);
  background: rgba(10,25,60,0.65);
  border-bottom: 1px solid rgba(255,255,255,0.08);
  z-index: 1000;
}
nav {
  max-width: 1180px;
  margin: auto;
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: 16px 24px;
}
.logo {
  display: flex;
  align-items: center;
  gap: 10px;
  font-weight: bold;
  font-size: 19px;
  letter-spacing: 1.2px;
  text-decoration: none;
}
.logo span {
  background: linear-gradient(90deg, #4da3ff, #9ad0ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.logo img {
  width: 28px; height: 28px;
  object-fit: contain;
  border-radius: 6px;
  filter: drop-shadow(0 0 8px rgba(77,163,255,0.7));
  transition: 0.3s;
}
.logo:hover img { transform: scale(1.12); }
/* ãƒ¡ãƒ‹ãƒ¥ãƒ¼ */
.menu {
  display: flex;
  gap: 28px;
}
.menu a {
  color: rgba(255,255,255,0.75);
  text-decoration: none;
  font-size: 13.5px;
  font-weight: 500;
  position: relative;
  transition: 0.25s;
}
.menu a::after {
  content: "";
  position: absolute;
  left: 0; bottom: -7px;
  width: 0; height: 2px;
  background: linear-gradient(90deg, #4da3ff, #7ecbff);
  transition: 0.25s;
}
.menu a:hover, .menu a.active {
  color: white;
}
.menu a:hover::after, .menu a.active::after { width: 100%; }
/* ====================== ãƒ¡ã‚¤ãƒ³ ====================== */
main {
  max-width: 1180px;
  margin: 60px auto 80px;
  padding: 0 24px;
}
.glass-card {
  background: rgba(255,255,255,0.055);
  border-radius: 24px;
  padding: 40px 36px;
  backdrop-filter: blur(18px);
  box-shadow: 0 25px 70px rgba(0,0,0,0.6),
              inset 0 0 0 1px rgba(255,255,255,0.12);
  transition: 0.4s;
}
.glass-card:hover {
  transform: translateY(-6px);
  box-shadow: 0 35px 90px rgba(0,0,0,0.7),
              inset 0 0 0 1px rgba(255,255,255,0.2);
}
/* ====================== é¸æ‰‹ã‚«ãƒ¼ãƒ‰ ====================== */
.player-grid {
  display: grid;
  gap: 24px;
  grid-template-columns: repeat(auto-fill, minmax(320px, 1fr));
}
.player-card {
  background: linear-gradient(145deg, rgba(15,30,75,0.95), rgba(8,18,48,0.95));
  border-radius: 20px;
  overflow: hidden;
  box-shadow: 0 15px 40px rgba(0,0,0,0.7),
              inset 0 0 0 1px rgba(77,163,255,0.25);
  transition: all 0.35s cubic-bezier(0.23,1,0.32,1);
  position: relative;
}
.player-card:hover {
  transform: translateY(-12px) scale(1.03);
  box-shadow: 0 30px 70px rgba(77,163,255,0.35),
              inset 0 0 0 1px rgba(77,163,255,0.6);
}
.player-photo {
  position: relative;
  height: 160px;
  overflow: hidden;
}
.player-photo img {
  width: 100%;
  height: 100%;
  object-fit: cover;
  transition: 0.4s;
}
.player-card:hover .player-photo img { transform: scale(1.08); }
.number-badge {
  position: absolute;
  top: 12px; right: 12px;
  background: rgba(0,0,0,0.75);
  color: #fff;
  font-size: 28px;
  font-weight: 900;
  width: 52px; height: 52px;
  display: flex;
  align-items: center;
  justify-content: center;
  border-radius: 50%;
  border: 3px solid #4da3ff;
  box-shadow: 0 0 20px rgba(77,163,255,0.8);
  z-index: 2;
  font-family: system-ui;
}
.position {
  position: absolute;
  top: 12px; left: 12px;
  padding: 6px 14px;
  border-radius: 30px;
  font-size: 13px;
  font-weight: 700;
  color: #000;
  box-shadow: 0 4px 12px rgba(0,0,0,0.4);
}
.position-æŠ•æ‰‹ { background: #4da3ff; }
.position-æ•æ‰‹ { background: #ff4d4d; }
.position-å†…é‡æ‰‹ { background: #32ff6a; }
.position-å¤–é‡æ‰‹ { background: #ffd700; }
.player-info {
  padding: 18px 20px 22px;
}
.player-name {
  font-size: 1.35rem;
  font-weight: 700;
  margin-bottom: 8px;
  background: linear-gradient(90deg, #fff, #a0d0ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
}
.player-name a {
  color: inherit;
  text-decoration: none;
}
.player-name a:hover { text-shadow: 0 0 15px rgba(77,163,255,0.7); }
.stats {
  display: flex;
  justify-content: space-between;
  font-size: 0.93rem;
  color: #b0d0ff;
  margin-top: 12px;
}
.stats span {
  display: flex;
  align-items: center;
  gap: 6px;
}
/* ====================== ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«é¡ ====================== */
.controls, .range-sliders, .sort-controls {
  margin-bottom: 28px;
}
.controls {
  display: flex;
  flex-wrap: wrap;
  gap: 16px;
  justify-content: center;
  align-items: flex-end;
}
.controls select, .controls input {
  padding: 11px 16px;
  font-size: 15.5px;
  border-radius: 8px;
  border: none;
  background: rgba(15,30,70,0.9);
  color: white;
  backdrop-filter: blur(8px);
}
.controls select[multiple] { height: 148px; width: 170px; }
.range-slider { flex: 1; min-width: 260px; }
.search-container { position: relative; flex: 1; min-width: 260px; max-width: 420px; }
.autocomplete-items {
  position: absolute;
  top: 100%;
  left: 0; right: 0;
  background: rgba(10,20,50,0.98);
  border: 1px solid #4da3ff;
  border-radius: 10px;
  box-shadow: 0 10px 30px rgba(0,0,0,0.6);
  max-height: 260px;
  overflow-y: auto;
  z-index: 1000;
}
.autocomplete-items div {
  padding: 12px 16px;
  cursor: pointer;
  transition: 0.2s;
}
.autocomplete-items div:hover {
  background: #4da3ff;
  color: #000;
}
/* ====================== ãƒ•ãƒƒã‚¿ãƒ¼ ====================== */
footer {
  background: rgba(0,0,0,0.4);
  backdrop-filter: blur(16px);
  border-top: 1px solid rgba(255,255,255,0.08);
}
.footer-container {
  max-width: 1180px;
  margin: auto;
  padding: 60px 24px 40px;
  display: grid;
  grid-template-columns: 1.8fr 1fr 0.7fr;
  gap: 60px;
}
.footer-logo {
  font-size: 21px;
  font-weight: bold;
  background: linear-gradient(90deg, #4da3ff, #9ad0ff);
  -webkit-background-clip: text;
  -webkit-text-fill-color: transparent;
  margin-bottom: 14px;
}
.footer-text { font-size: 13.5px; color: rgba(255,255,255,0.6); line-height: 1.8; }
.footer-title { font-size: 13px; margin-bottom: 16px; color: #fff; opacity: 0.9; }
footer a {
  color: rgba(255,255,255,0.6);
  text-decoration: none;
  font-size: 13px;
  display: block;
  margin-bottom: 8px;
  transition: 0.25s;
}
footer a:hover {
  color: #4da3ff;
  transform: translateX(6px);
}
.footer-bottom {
  text-align: center;
  padding: 20px;
  font-size: 11.5px;
  color: rgba(255,255,255,0.35);
  border-top: 1px solid rgba(255,255,255,0.06);
}
@media (max-width: 768px) {
  .footer-container { grid-template-columns: 1fr; gap: 40px; }
  .player-grid { grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); }
}
</style>
</head>
<body>

<header>
  <nav>
    <a href="#" class="logo">
      <img src="https://lions-crown.homep.jp/img/1766145327164.webp" alt="L-crown">
      <span>L-crown</span>
    </a>
    <div class="menu">
      <a href="#">ãƒ›ãƒ¼ãƒ </a>
      <a href="#" class="active">é¸æ‰‹åé‘‘</a>
      <a href="#">ãŠçŸ¥ã‚‰ã›</a>
      <a href="#">åˆ©ç”¨è¦ç´„</a>
      <a href="#">ãŠå•ã„åˆã‚ã›</a>
    </div>
  </nav>
</header>

<main>
  <div class="glass-card">
    <h1 style="text-align:center; font-size:2.6rem; margin-bottom:36px; background:linear-gradient(90deg,#fff,#a0d0ff); -webkit-background-clip:text; -webkit-text-fill-color:transparent;">
      åŸ¼ç‰è¥¿æ­¦ãƒ©ã‚¤ã‚ªãƒ³ã‚º é¸æ‰‹åé‘‘
    </h1>

    <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ« -->
    <div class="controls">
      <select id="yearSelect" multiple size="6"></select>
      <select id="positionFilter">
        <option value="">å…¨ãƒã‚¸ã‚·ãƒ§ãƒ³</option>
        <option value="æŠ•æ‰‹">æŠ•æ‰‹</option>
        <option value="æ•æ‰‹">æ•æ‰‹</option>
        <option value="å†…é‡æ‰‹">å†…é‡æ‰‹</option>
        <option value="å¤–é‡æ‰‹">å¤–é‡æ‰‹</option>
      </select>
      <div class="search-container">
        <input type="text" id="nameSearch" placeholder="é¸æ‰‹åã§æ¤œç´¢â€¦" autocomplete="off">
        <div id="autocomplete-list" class="autocomplete-items"></div>
      </div>
    </div>

    <div class="range-sliders" style="display:flex; flex-wrap:wrap; gap:28px; justify-content:center; margin-bottom:32px;">
      <div class="range-slider">
        <div class="slider-label">èƒŒç•ªå· <span id="numRangeLabel">0 â€“ 145</span></div>
        <div class="slider-inputs" style="display:flex; gap:10px;">
          <input type="number" id="numStartInput" min="0" max="145" value="0">
          <input type="number" id="numEndInput" min="0" max="145" value="145">
        </div>
        <div id="numSlider"></div>
      </div>
      <div class="range-slider">
        <div class="slider-label">å¹´é½¢ <span id="ageRangeLabel">17 â€“ 50</span></div>
        <div class="slider-inputs" style="display:flex; gap:10px;">
          <input type="number" id="ageStartInput" min="17" max="50" value="17">
          <input type="number" id="ageEndInput" min="17" max="50" value="50">
        </div>
        <div id="ageSlider"></div>
      </div>
      <div class="range-slider">
        <div class="slider-label">ãƒ‰ãƒ©ãƒ•ãƒˆå¹´ <span id="draftRangeLabel">2010 â€“ 2026</span></div>
        <div class="slider-inputs" style="display:flex; gap:10px;">
          <input type="number" id="draftStartInput" min="2010" max="2026" value="2010">
          <input type="number" id="draftEndInput" min="2010" max="2026" value="2026">
        </div>
        <div id="draftSlider"></div>
      </div>
    </div>

    <div class="sort-controls" style="text-align:center; margin-bottom:32px;">
      <select id="sortSelect">
        <option value="number_asc">èƒŒç•ªå· â†‘</option>
        <option value="number_desc">èƒŒç•ªå· â†“</option>
        <option value="age_asc">å¹´é½¢ â†‘</option>
        <option value="age_desc">å¹´é½¢ â†“</option>
        <option value="draft_asc">ãƒ‰ãƒ©ãƒ•ãƒˆå¹´ â†‘</option>
        <option value="draft_desc">ãƒ‰ãƒ©ãƒ•ãƒˆå¹´ â†“</option>
        <option value="name_asc">åå‰ äº”åéŸ³ â†‘</option>
        <option value="name_desc">åå‰ äº”åéŸ³ â†“</option>
      </select>
    </div>

    <!-- é¸æ‰‹ã‚°ãƒªãƒƒãƒ‰ -->
    <div class="player-grid" id="playerGrid"></div>
  </div>
</main>

<footer>
  <div class="footer-container">
    <div>
      <div class="footer-logo">L-crown</div>
      <div class="footer-text">
        ãƒ‡ãƒ¼ã‚¿ã‚’ã‚ˆã‚Šèº«è¿‘ãªã‚‚ã®ã¸ã€‚<br>
        åŸ¼ç‰è¥¿æ­¦ãƒ©ã‚¤ã‚ªãƒ³ã‚ºã®ç‹åº§å¥ªé‚„ã¸ã®é“ã®ã‚Šã‚’è¿½ã„ç¶šã‘ã‚‹åˆ†æã‚µã‚¤ãƒˆã€‚
      </div>
    </div>
    <div>
      <div class="footer-title">ãƒªãƒ³ã‚¯</div>
      <a href="#">ãƒ›ãƒ¼ãƒ </a>
      <a href="#">é¸æ‰‹åé‘‘</a>
      <a href="#">ãŠçŸ¥ã‚‰ã›</a>
      <a href="#">åˆ©ç”¨è¦ç´„</a>
      <a href="#">ãŠå•ã„åˆã‚ã›</a>
    </div>
    <div>
      <div class="footer-title">ãƒ•ã‚©ãƒ­ãƒ¼</div>
      <a href="https://x.com/Lcrown_official" target="_blank">ğ• (Twitter)</a>
    </div>
  </div>
  <div class="footer-bottom">
    Â© 2026 L-crown. All rights reserved.
  </div>
</footer>

<script src="https://cdnjs.cloudflare.com/ajax/libs/noUiSlider/15.8.0/nouislider.min.js"></script>
<script>
// ==================== ãƒ‡ãƒ¼ã‚¿ï¼ˆèƒŒç•ªå·ã‚’ string ã§çµ±ä¸€ â†’ 00ã¨0ã‚’æ˜ç¢ºã«åŒºåˆ¥ï¼‰ ====================
const players = {
  "2026": [
    { number: "11", name: "ä¸Šç”° å¤§æ²³", position: "æŠ•æ‰‹", birth_year: 2001, draft: 2019, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=11", link: "#" },
    { number: "16", name: "éš…ç”° çŸ¥ä¸€éƒ", position: "æŠ•æ‰‹", birth_year: 1999, draft: 2020, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=16", link: "#" },
    { number: "13", name: "é«˜æ©‹ å…‰æˆ", position: "æŠ•æ‰‹", birth_year: 1997, draft: 2015, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=13", link: "#" },
    { number: "61", name: "å¹³è‰¯ æµ·é¦¬", position: "æŠ•æ‰‹", birth_year: 1999, draft: 2018, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=61", link: "#" },
    { number: "22", name: "å¤è³€ æ‚ æ–—", position: "æ•æ‰‹", birth_year: 2000, draft: 2018, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=22", link: "#" },
    { number: "27", name: "ç‚­è°· éŠ€ä»æœ—", position: "æ•æ‰‹", birth_year: 1989, draft: 2006, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=27", link: "#" },
    { number: "6", name: "æºç”° å£®äº®", position: "å†…é‡æ‰‹", birth_year: 1994, draft: 2016, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=æºç”°", link: "#" },
    { number: "5", name: "å¤–å´ ä¿®æ±°", position: "å†…é‡æ‰‹", birth_year: 1992, draft: 2014, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=5", link: "#" },
    { number: "1", name: "æ —å±± å·§", position: "å¤–é‡æ‰‹", birth_year: 1983, draft: 2001, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=1", link: "#" },
    { number: "9", name: "è›­é–“ æ‹“å“‰", position: "å¤–é‡æ‰‹", birth_year: 2000, draft: 2022, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=9", link: "#" },
    { number: "00", name: "ä»²ç”° æ…¶ä»‹", position: "å†…é‡æ‰‹", birth_year: 1999, draft: 2025, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=00", link: "#" }   // å®Ÿéš›ã®00é¸æ‰‹
  ],
  "2025": [
    { number: "11", name: "ä¸Šç”° å¤§æ²³", position: "æŠ•æ‰‹", birth_year: 2001, draft: 2019, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=11", link: "#" },
    { number: "16", name: "éš…ç”° çŸ¥ä¸€éƒ", position: "æŠ•æ‰‹", birth_year: 1999, draft: 2020, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=16", link: "#" },
    { number: "0", name: "ä»®ã®0ç•ªé¸æ‰‹", position: "æŠ•æ‰‹", birth_year: 2000, draft: 2020, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=0", link: "#" }, // 0ç•ªä¾‹
    { number: "6", name: "æºç”° å£®äº®", position: "å†…é‡æ‰‹", birth_year: 1994, draft: 2016, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=æºç”°", link: "#" },
    { number: "00", name: "ä»²ç”° æ…¶ä»‹", position: "å†…é‡æ‰‹", birth_year: 1999, draft: 2025, photo: "https://via.placeholder.com/400x300/002b7f/ffffff?text=00", link: "#" }
  ]
};

// ==================== ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£ï¼ˆèƒŒç•ªå·00ã¨0ã‚’æ˜ç¢ºã«åŒºåˆ¥ï¼‰ ====================
function displayNumber(n) {
  if (n === "00" || n === 0 || n === "0") return n === "00" ? "00" : "0";
  const num = parseInt(n);
  return num < 10 ? "0" + num : num.toString();
}

function getSelectedYears() {
  return [...document.getElementById("yearSelect").selectedOptions].map(o => o.value);
}

function collectPlayers() {
  const years = getSelectedYears();
  if (!years.length) return [];
  let all = [];
  years.forEach(y => {
    if (players[y]) {
      players[y].forEach(p => all.push({...p, ref_year: parseInt(y)}));
    }
  });
  // åŒã˜åå‰ã¯æœ€æ–°å¹´ã‚’å„ªå…ˆ
  const map = new Map();
  all.sort((a,b) => b.ref_year - a.ref_year);
  all.forEach(p => { if (!map.has(p.name)) map.set(p.name, p); });
  return Array.from(map.values());
}

// ==================== ãƒ‡ãƒã‚¦ãƒ³ã‚¹ ====================
function debounce(fn, delay=140) {
  let t;
  return (...a) => { clearTimeout(t); t = setTimeout(()=>fn(...a), delay); };
}
const debouncedRender = debounce(renderPlayers);

// ==================== ã‚¹ãƒ©ã‚¤ãƒ€ãƒ¼ï¼ˆèƒŒç•ªå·ãƒãƒ¼è¡¨ç¤ºã‚‚00/0å¯¾å¿œï¼‰ ====================
function createSlider(id, min, max, start, labelId, sId, eId) {
  const slider = document.getElementById(id);
  const sInput = document.getElementById(sId);
  const eInput = document.getElementById(eId);
  const label = document.getElementById(labelId);

  noUiSlider.create(slider, { start, connect:true, step:1, range:{min,max}, format:{to:v=>Math.round(v)} });

  const updateUI = (values) => {
    const [s,e] = values.map(Math.round);
    label.textContent = `${displayNumber(s)} â€“ ${displayNumber(e)}`;
    sInput.value = s; eInput.value = e;
  };

  slider.noUiSlider.on("slide", values => { updateUI(values); debouncedRender(); });
  slider.noUiSlider.on("update", values => { updateUI(values); debouncedRender(); });

  const sync = () => {
    let s = parseInt(sInput.value) || min;
    let e = parseInt(eInput.value) || max;
    if (s > e) [s,e] = [e,s];
    slider.noUiSlider.set([Math.max(min,s), Math.min(max,e)]);
    debouncedRender();
  };
  sInput.addEventListener("input", sync);
  eInput.addEventListener("input", sync);
}

createSlider("numSlider",0,145,[0,145],"numRangeLabel","numStartInput","numEndInput");
createSlider("ageSlider",17,50,[17,50],"ageRangeLabel","ageStartInput","ageEndInput");
createSlider("draftSlider",2010,2026,[2010,2026],"draftRangeLabel","draftStartInput","draftEndInput");

// ==================== ã‚ªãƒ¼ãƒˆã‚³ãƒ³ãƒ—ãƒªãƒ¼ãƒˆ ====================
const nameInput = document.getElementById("nameSearch");
const autoList = document.getElementById("autocomplete-list");

nameInput.addEventListener("input", () => {
  const val = nameInput.value.trim();
  autoList.innerHTML = "";
  if (val.length < 1) return debouncedRender();

  collectPlayers().filter(p=>p.name.includes(val)).slice(0,12).forEach(p => {
    const d = document.createElement("div");
    d.textContent = `${p.name}  #${displayNumber(p.number)}`;
    d.onclick = () => {
      nameInput.value = p.name;
      autoList.innerHTML = "";
      renderPlayers();
    };
    autoList.appendChild(d);
  });
  debouncedRender();
});

document.addEventListener("click", e => {
  if (!nameInput.contains(e.target) && !autoList.contains(e.target)) autoList.innerHTML="";
});

// ==================== æç”»ï¼ˆèƒŒç•ªå·è¡¨ç¤ºã¯ displayNumber ä½¿ç”¨ï¼‰ ====================
function renderPlayers() {
  let arr = collectPlayers();

  const pos = document.getElementById("positionFilter").value;
  if (pos) arr = arr.filter(p => p.position === pos);

  const name = nameInput.value.trim();
  if (name) arr = arr.filter(p => p.name.includes(name));

  const nS = parseInt(document.getElementById("numStartInput").value) || 0;
  const nE = parseInt(document.getElementById("numEndInput").value) || 145;
  arr = arr.filter(p => {
    const num = parseInt(p.number);
    return num >= nS && num <= nE;
  });

  const aS = parseInt(document.getElementById("ageStartInput").value)||17;
  const aE = parseInt(document.getElementById("ageEndInput").value)||50;
  arr = arr.filter(p => {
    const age = p.ref_year - p.birth_year;
    return age >= aS && age <= aE;
  });

  const dS = parseInt(document.getElementById("draftStartInput").value)||2010;
  const dE = parseInt(document.getElementById("draftEndInput").value)||2026;
  arr = arr.filter(p => p.draft >= dS && p.draft <= dE);

  const sort = document.getElementById("sortSelect").value;
  arr.sort((a,b) => {
    const ageA = a.ref_year - a.birth_year;
    const ageB = b.ref_year - b.birth_year;
    switch(sort){
      case "number_asc": return parseInt(a.number) - parseInt(b.number);
      case "number_desc": return parseInt(b.number) - parseInt(a.number);
      case "age_asc": return ageA - ageB;
      case "age_desc": return ageB - ageA;
      case "draft_asc": return a.draft - b.draft;
      case "draft_desc": return b.draft - a.draft;
      case "name_asc": return a.name.localeCompare(b.name,"ja");
      case "name_desc": return b.name.localeCompare(a.name,"ja");
    }
    return 0;
  });

  const grid = document.getElementById("playerGrid");
  grid.innerHTML = "";

  if (!arr.length) {
    grid.innerHTML = `<p style="text-align:center; grid-column:1/-1; padding:80px 20px; font-size:1.2rem; opacity:0.7;">è©²å½“é¸æ‰‹ãŒè¦‹ã¤ã‹ã‚Šã¾ã›ã‚“ã§ã—ãŸ</p>`;
    return;
  }

  arr.forEach(p => {
    const age = p.ref_year - p.birth_year;
    const card = document.createElement("div");
    card.className = "player-card";
    card.innerHTML = `
      <div class="player-photo">
        <img src="${p.photo}" alt="${p.name}">
        <div class="number-badge">${displayNumber(p.number)}</div>
        <span class="position position-${p.position}">${p.position}</span>
      </div>
      <div class="player-info">
        <div class="player-name"><a href="${p.link}">${p.name}</a></div>
        <div class="stats">
          <span>ğŸ¦ ãƒ‰ãƒ©ãƒ•ãƒˆ ${p.draft}</span>
          <span>ğŸ‘¤ ${age}æ­³</span>
        </div>
      </div>
    `;
    grid.appendChild(card);
  });
}

// ==================== åˆæœŸåŒ–ï¼ˆå¹´åº¦åˆ‡ã‚Šæ›¿ãˆã‚’ä½“æ„Ÿã§ãã‚‹ã‚ˆã†ã«2025/2026ä¸¡æ–¹ãƒ‡ãƒ•ã‚©ãƒ«ãƒˆé¸æŠï¼‰ ====================
const yearSelect = document.getElementById("yearSelect");
for (let y=2026; y>=2015; y--) {
  const opt = document.createElement("option");
  opt.value = y;
  opt.textContent = y + "å¹´";
  if (y===2026 || y===2025) opt.selected = true;   // â† å¹´åº¦åˆ‡ã‚Šæ›¿ãˆã‚’å³ä½“æ„Ÿã§ãã‚‹
  yearSelect.appendChild(opt);
}

["yearSelect","positionFilter","sortSelect"].forEach(id => {
  document.getElementById(id).addEventListener("change", renderPlayers);
});

renderPlayers();
</script>
</body>
</html>
