---
layout: default
title: news
---

<h1 class="page-title">News</h1>

<div class="controls">

  <input type="text" id="search" placeholder="ğŸ” æ¤œç´¢...">

  <select id="tag-filter">
    <option value="">ã™ã¹ã¦ã®ã‚¿ã‚°</option>
    {% assign tags = site.tags | sort %}
    {% for tag in tags %}
      <option value="{{ tag[0] }}">{{ tag[0] }}</option>
    {% endfor %}
  </select>

  <input type="date" id="date-from">
  <input type="date" id="date-to">

  <select id="sort">
    <option value="new">æ–°ã—ã„é †</option>
    <option value="old">å¤ã„é †</option>
    <option value="title">ã‚¿ã‚¤ãƒˆãƒ«é †</option>
  </select>

</div>

<div id="post-container">

{% for post in site.posts %}
  <article class="post"
           data-title="{{ post.title | downcase }}"
           data-date="{{ post.date | date: "%Y-%m-%d" }}"
           data-tags="{{ post.tags | join: ',' | downcase }}"
           data-description="{{ post.description | downcase }}">

    <div class="post-inner">

      <div class="post-date">
        {{ post.date | date: "%Y-%m-%d" }}
      </div>

      <h2>
        <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
      </h2>

      {% if post.description %}
        <p>{{ post.description }}</p>
      {% endif %}

      <div class="tags">
        {% for tag in post.tags %}
          <span class="tag">{{ tag }}</span>
        {% endfor %}
      </div>

    </div>

  </article>
{% endfor %}

</div>

<div id="empty-state">
  è©²å½“ã™ã‚‹è¨˜äº‹ãŒã‚ã‚Šã¾ã›ã‚“
</div>

<style>

body {
  background: #0f172a;
  color: #e5e7eb;
  font-family: -apple-system, BlinkMacSystemFont, sans-serif;
}

.page-title {
  margin-bottom: 20px;
}

.controls {
  position: sticky;
  top: 0;
  background: rgba(15, 23, 42, 0.85);
  backdrop-filter: blur(10px);
  padding: 12px 0;
  display: flex;
  gap: 10px;
  flex-wrap: wrap;
  z-index: 10;
}

.controls input,
.controls select {
  background: #1e293b;
  border: 1px solid #334155;
  color: #e5e7eb;
  padding: 8px 10px;
  border-radius: 8px;
}

#post-container {
  display: grid;
  gap: 14px;
}

.post-inner {
  background: linear-gradient(145deg, #1e293b, #0f172a);
  border: 1px solid #334155;
  border-radius: 14px;
  padding: 18px;
  transition: 0.25s;
}

.post-inner:hover {
  transform: translateY(-4px);
  border-color: #64748b;
  box-shadow: 0 10px 25px rgba(0,0,0,0.35);
}

.post-date {
  font-size: 0.8em;
  color: #94a3b8;
  margin-bottom: 6px;
}

.post h2 {
  margin: 4px 0;
}

.post a {
  text-decoration: none;
  color: #f1f5f9;
}

.post p {
  color: #cbd5f5;
  font-size: 0.9em;
}

.tags {
  margin-top: 10px;
}

.tag {
  font-size: 0.7em;
  background: #334155;
  padding: 4px 8px;
  border-radius: 999px;
  margin-right: 6px;
  color: #cbd5f5;
}

#empty-state {
  display: none;
  text-align: center;
  padding: 40px;
  color: #94a3b8;
}

</style>

<script>
const searchInput = document.getElementById('search');
const tagFilter = document.getElementById('tag-filter');
const dateFrom = document.getElementById('date-from');
const dateTo = document.getElementById('date-to');
const sortSelect = document.getElementById('sort');
const emptyState = document.getElementById('empty-state');

const posts = Array.from(document.querySelectorAll('.post'));

function filterPosts() {

  const search = searchInput.value.toLowerCase();
  const selectedTag = tagFilter.value.toLowerCase();
  const from = dateFrom.value;
  const to = dateTo.value;

  let visibleCount = 0;

  posts.forEach(post => {

    const title = post.dataset.title || "";
    const date = post.dataset.date || "";
    const tags = post.dataset.tags || "";
    const description = post.dataset.description || "";

    let visible = true;

    // ğŸ” æ¤œç´¢ï¼ˆã‚¿ã‚¤ãƒˆãƒ«ï¼‹èª¬æ˜ï¼‰
    if (search && !(title.includes(search) || description.includes(search))) {
      visible = false;
    }

    // ğŸ· ã‚¿ã‚°ï¼ˆå®Œå…¨ä¸€è‡´åˆ¤å®šï¼‰
    if (selectedTag) {
      const tagArray = tags.split(',');
      if (!tagArray.includes(selectedTag)) visible = false;
    }

    // ğŸ“… æ—¥ä»˜ç¯„å›²
    if (from && date < from) visible = false;
    if (to && date > to) visible = false;

    post.style.display = visible ? "block" : "none";

    if (visible) visibleCount++;
  });

  emptyState.style.display = visibleCount ? "none" : "block";

  sortPosts();
}

function sortPosts() {

  const container = document.getElementById('post-container');
  const mode = sortSelect.value;

  const visiblePosts = posts.filter(p => p.style.display !== "none");

  visiblePosts.sort((a, b) => {

    if (mode === "new") return b.dataset.date.localeCompare(a.dataset.date);
    if (mode === "old") return a.dataset.date.localeCompare(b.dataset.date);
    if (mode === "title") return a.dataset.title.localeCompare(b.dataset.title);

    return 0;
  });

  visiblePosts.forEach(p => container.appendChild(p));
}

// âœ… åˆæœŸè¡¨ç¤ºã‚½ãƒ¼ãƒˆä¿è¨¼
sortPosts();

searchInput.addEventListener('input', filterPosts);
tagFilter.addEventListener('change', filterPosts);
dateFrom.addEventListener('change', filterPosts);
dateTo.addEventListener('change', filterPosts);
sortSelect.addEventListener('change', filterPosts);
</script>
