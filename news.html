---
layout: default
title: news
---

<h1>Updates</h1>

<!-- ===================== -->
<!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼UI -->
<!-- ===================== -->

<div class="controls">

  <input type="text" id="search" placeholder="æ¤œç´¢...">

  <select id="tag-filter">
    <option value="">ã™ã¹ã¦ã®ã‚¿ã‚°</option>
    {% assign tags = site.tags | sort %}
    {% for tag in tags %}
      <option value="{{ tag[0] }}">{{ tag[0] }}</option>
    {% endfor %}
  </select>

  <input type="date" id="date-from">
  <input type="date" id="date-to">

  <select id="sort">
    <option value="new">æ–°ã—ã„é †</option>
    <option value="old">å¤ã„é †</option>
    <option value="title">ã‚¿ã‚¤ãƒˆãƒ«é †</option>
  </select>

</div>

<!-- ===================== -->
<!-- æŠ•ç¨¿ä¸€è¦§ -->
<!-- ===================== -->

<div id="post-container">

{% for post in site.posts %}
  <article class="post"
           data-title="{{ post.title | downcase }}"
           data-date="{{ post.date | date: "%Y-%m-%d" }}"
           data-tags="{{ post.tags | join: ',' | downcase }}">

    <h2>
      <a href="{{ post.url }}">{{ post.title }}</a>
    </h2>

    <div class="meta">
      {{ post.date | date: "%Y-%m-%d" }}
    </div>

    {% if post.description %}
      <p>{{ post.description }}</p>
    {% endif %}

    <div class="tags">
      {% for tag in post.tags %}
        <span class="tag">{{ tag }}</span>
      {% endfor %}
    </div>

  </article>
{% endfor %}

</div>

<!-- ===================== -->
<!-- ã‚¹ã‚¿ã‚¤ãƒ« -->
<!-- ===================== -->

<style>
.controls {
  display: flex;
  gap: 10px;
  margin-bottom: 25px;
  flex-wrap: wrap;
}

.controls input,
.controls select {
  padding: 6px 10px;
  font-size: 14px;
}

.post {
  padding: 16px;
  border-bottom: 1px solid #ddd;
}

.meta {
  font-size: 0.85em;
  color: #777;
}

.tags {
  margin-top: 8px;
}

.tag {
  font-size: 0.75em;
  background: #eee;
  padding: 3px 6px;
  margin-right: 5px;
  border-radius: 4px;
}
</style>

<!-- ===================== -->
<!-- ãƒ•ã‚£ãƒ«ã‚¿ãƒ¼JS -->
<!-- ===================== -->

<script>
const searchInput = document.getElementById('search');
const tagFilter = document.getElementById('tag-filter');
const dateFrom = document.getElementById('date-from');
const dateTo = document.getElementById('date-to');
const sortSelect = document.getElementById('sort');

const posts = Array.from(document.querySelectorAll('.post'));

function filterPosts() {

  const search = searchInput.value.toLowerCase();
  const selectedTag = tagFilter.value.toLowerCase();
  const from = dateFrom.value;
  const to = dateTo.value;

  posts.forEach(post => {

    const title = post.dataset.title;
    const date = post.dataset.date;
    const tags = post.dataset.tags;

    let visible = true;

    // ğŸ” æ¤œç´¢
    if (search && !title.includes(search)) {
      visible = false;
    }

    // ğŸ· ã‚¿ã‚°
    if (selectedTag && !tags.includes(selectedTag)) {
      visible = false;
    }

    // ğŸ“… æ—¥ä»˜ç¯„å›²
    if (from && date < from) visible = false;
    if (to && date > to) visible = false;

    post.style.display = visible ? "block" : "none";
  });

  sortPosts();
}

function sortPosts() {

  const container = document.getElementById('post-container');
  const mode = sortSelect.value;

  const visiblePosts = posts.filter(p => p.style.display !== "none");

  visiblePosts.sort((a, b) => {

    if (mode === "new") return b.dataset.date.localeCompare(a.dataset.date);
    if (mode === "old") return a.dataset.date.localeCompare(b.dataset.date);
    if (mode === "title") return a.dataset.title.localeCompare(b.dataset.title);

  });

  visiblePosts.forEach(p => container.appendChild(p));
}

searchInput.addEventListener('input', filterPosts);
tagFilter.addEventListener('change', filterPosts);
dateFrom.addEventListener('change', filterPosts);
dateTo.addEventListener('change', filterPosts);
sortSelect.addEventListener('change', filterPosts);
</script>
